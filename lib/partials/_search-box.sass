$default-search-roundness: 2px
$dark-icon: "search-dark.png"
$light-icon: "search-light.png"

= search-box($roundness: $default-search-roundness, $icon-color: transparent, $icon: $dark-icon, $text-color: #fff)
    position: relative
    width: 200px
    min-height: 35px
    margin: 5px 0 5px
    background-color: $dark-gray
    +box-shadow(inset 0 2px 2px rgba(0,0,0,.4), inset 0 -1px 0 rgba(255,255,255,0.1))
    +border-radius($roundness)

    .icon
        +border-radius(0, $roundness, $roundness, 0)
        position: absolute
        right: 3px 
        top: 3px 
        width: 26px
        height: 27px
        padding: 5px
        background: url("../images/" + $icon) no-repeat 5px 5px $icon-color
        display: block
        border: none
        cursor: pointer

    input
        width: 100%
        height: 35px 
        background: transparent
        padding-left: 10px
        line-height: 40px
        outline: none
        border: none
        color: $text-color


.search
    &.dark
        +search-box($default-search-roundness, transparent, $dark-icon)

    &.light
        +search-box($default-search-roundness, transparent, $dark-icon, #333)
    background-color: $light-gray

    &.rounded
        +border-radius($default-search-roundness + 20px)

    &.left
        .icon 
            right: auto
            left: 3px 
            +border-radius($default-search-roundness, 0, 0, $default-search-roundness)
        input
            padding-left: 40px

